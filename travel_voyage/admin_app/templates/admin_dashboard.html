{% include 'header.html' %}
{% load static %}
<body style="background-image: url('{% static 'images/bg_1.jpg' %}'); background-size: cover; background-position: center;">

    <div class="container mt-5">
        <h2 class="text-center text-white">Admin Dashboard</h2>
    
        <!-- Users Section -->
        <h3 class="mt-4 text-white">Registered Users</h3>
        <div style="max-height: 300px; overflow-y: auto;">
            <table class="table table-bordered bg-white" style="box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                <thead class="thead-dark">
                    <tr>
                        <th>Username</th>
                        <th>Email</th>
                        <th>Phone</th>
                        <th>Place</th>
                    </tr>
                </thead>
                <tbody>
                    {% for user in users %}
                    <tr>
                        <td>{{ user.username }}</td>
                        <td>{{ user.email }}</td>
                        <td>{{ user.phone }}</td>
                        <td>{{ user.place }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    
        <!-- Travel Agencies Section -->
        <h3 class="mt-4 text-white">Pending Travel Agencies</h3>
        <div style="max-height: 300px; overflow-y: auto;">
            <table class="table table-bordered bg-white" style="box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                <thead class="thead-dark">
                    <tr>
                        <th>Agency Name</th>
                        <th>Email</th>
                        <th>Phone</th>
                        <th>Experience</th>
                        <th>Place</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for agency in pending_agencies %}
                    <tr>
                        <td>{{ agency.username }}</td>
                        <td>{{ agency.email }}</td>
                        <td>{{ agency.phone }}</td>
                        <td>{{ agency.experience }}</td>
                        <td>{{ agency.place }}</td>
                        <td>
                            <form method="POST" style="display: inline;">
                                {% csrf_token %}
                                <input type="hidden" name="agency_id" value="{{ agency.id }}">
                                <button type="submit" name="action" value="approve" class="btn btn-success btn-sm">Approve</button>
                            </form>
                            <form method="POST" style="display: inline;">
                                {% csrf_token %}
                                <input type="hidden" name="agency_id" value="{{ agency.id }}">
                                <button type="submit" name="action" value="reject" class="btn btn-danger btn-sm">Reject</button>
                            </form>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    
        <h3 class="mt-4 text-white">Approved Travel Agencies</h3>
        <div style="max-height: 300px; overflow-y: auto;">
            <table class="table table-bordered bg-white" style="box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                <thead class="thead-dark">
                    <tr>
                        <th>Agency Name</th>
                        <th>Email</th>
                        <th>Phone</th>
                        <th>Place</th>
                    </tr>
                </thead>
                <tbody>
                    {% for agency in approved_agencies %}
                    <tr>
                        <td>{{ agency.username }}</td>
                        <td>{{ agency.email }}</td>
                        <td>{{ agency.phone }}</td>
                        <td>{{ agency.place }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    
        <h3 class="mt-4 text-white">Rejected Travel Agencies</h3>
        <div style="max-height: 300px; overflow-y: auto;">
            <table class="table table-bordered bg-white" style="box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                <thead class="thead-dark">
                    <tr>
                        <th>Agency Name</th>
                        <th>Email</th>
                        <th>Phone</th>
                        <th>Place</th>
                    </tr>
                </thead>
                <tbody>
                    {% for agency in rejected_agencies %}
                    <tr>
                        <td>{{ agency.username }}</td>
                        <td>{{ agency.email }}</td>
                        <td>{{ agency.phone }}</td>
                        <td>{{ agency.place }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</body>

{% include 'footer.html' %}
